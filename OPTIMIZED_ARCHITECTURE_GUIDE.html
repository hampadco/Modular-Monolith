<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¬Ø§Ù…Ø¹ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø± Ù…ÙˆÙ†ÙˆÙ„ÛŒØª (Ù†Ø³Ø®Ù‡ Û².Û°)</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --bg-color: #f8fafc;
            --text-color: #334155;
            --heading-color: #0f172a;
            --code-bg: #1e1e1e;
            --code-text: #e2e8f0;
            --border-color: #e2e8f0;
            --success-color: #166534;
            --success-bg: #dcfce7;
            --warning-color: #9a3412;
            --warning-bg: #ffedd5;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 950px;
            margin: 40px auto;
            padding: 40px;
            background: #fff;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }

        h1, h2, h3, h4 {
            color: var(--heading-color);
            font-weight: 800;
            margin-top: 2em;
        }

        h1 {
            font-size: 2.5rem;
            text-align: center;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 20px;
            margin-top: 0;
            color: var(--primary-color);
        }

        h2 {
            font-size: 1.75rem;
            border-right: 6px solid var(--primary-color);
            padding-right: 15px;
            background: #f1f5f9;
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 1.5em;
        }

        h3 {
            font-size: 1.4rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 8px;
            display: inline-block;
        }

        p, li {
            font-size: 1.05rem;
            margin-bottom: 10px;
        }

        ul, ol {
            padding-right: 25px;
        }

        code {
            font-family: 'Consolas', 'Monaco', monospace;
            background-color: #f1f5f9;
            color: #ef4444;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
            direction: ltr;
            display: inline-block;
        }

        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            font-family: 'Consolas', 'Monaco', monospace;
            margin: 20px 0;
            border: 1px solid #475569;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
        }

        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            border: none;
            display: block;
        }

        .benefit-box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .benefit-card {
            background: #fff;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }

        .benefit-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .benefit-title {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--heading-color);
            margin-bottom: 10px;
            display: block;
        }

        .note {
            background-color: var(--warning-bg);
            border-right: 4px solid var(--warning-color);
            color: var(--warning-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            font-weight: 500;
        }

        .success-box {
            background-color: var(--success-bg);
            border: 1px solid var(--success-color);
            color: var(--success-color);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        th, td {
            border: 1px solid var(--border-color);
            padding: 15px;
            text-align: right;
        }

        th {
            background-color: #f8fafc;
            color: var(--heading-color);
            font-weight: bold;
        }

        .architecture-diagram {
            text-align: center;
            padding: 40px;
            background: linear-gradient(to bottom right, #f8fafc, #eff6ff);
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            margin: 40px 0;
            font-weight: bold;
            color: #64748b;
        }

        hr {
            border: 0;
            height: 1px;
            background: #e2e8f0;
            margin: 50px 0;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¬Ø§Ù…Ø¹ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø± Ù…ÙˆÙ†ÙˆÙ„ÛŒØª (Modular Monolith)</h1>
    <p style="text-align: center; font-size: 1.2rem; color: #64748b; margin-bottom: 40px;">
        Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ± Ø¨Ø§ Ø±ÙˆÛŒÚ©Ø±Ø¯ <strong>Vertical Slice</strong> Ùˆ <strong>REPR Pattern</strong><br>
        <span style="font-size: 0.95rem; display: inline-block; margin-top: 10px; background: #e0f2fe; color: #0369a1; padding: 4px 12px; border-radius: 20px;">Ù†Ø³Ø®Ù‡ Û².Û° - ÙˆÛŒÚ˜Ù‡ ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ú†Ø§Ø¨Ú© (Agile) Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³</span>
    </p>

    <h2>Ú†Ø±Ø§ Ø§ÛŒÙ† Ù…Ø¹Ù…Ø§Ø±ÛŒØŸ (Ù…Ø²Ø§ÛŒØ§ Ùˆ Ø§Ø±Ø²Ø´â€ŒÙ‡Ø§)</h2>
    <p>Ø§ÛŒÙ† Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒØ¬ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Enterprise Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª: Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒØŒ Ú©Ù†Ø¯ÛŒ Ø³Ø±Ø¹Øª ØªÙˆØ³Ø¹Ù‡ Ùˆ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø²ÙˆØ¯Ù‡Ù†Ú¯Ø§Ù….</p>

    <div class="benefit-box">
        <div class="benefit-card">
            <span class="benefit-icon">ğŸš€</span>
            <span class="benefit-title">Ø³Ø±Ø¹Øª ØªÙˆØ³Ø¹Ù‡ Ø¨Ø§Ù„Ø§ (Velocity)</span>
            <p>Ø¨Ø§ Ø±ÙˆÛŒÚ©Ø±Ø¯ Vertical SliceØŒ ØªÙ…Ø§Ù… Ú©Ø¯Ù‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ ÛŒÚ© ÙÛŒÚ†Ø± Ø¯Ø± ÛŒÚ© Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù†Ø¯. Ø¯ÛŒÚ¯Ø± Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ù¾Ø±Ø´ Ø¨ÛŒÙ† Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù (Controller, Service, Repository) Ù†ÛŒØ³Øª.</p>
        </div>
        <div class="benefit-card">
            <span class="benefit-icon">ğŸ§©</span>
            <span class="benefit-title">Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ (Modularity)</span>
            <p>Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø§Ù†Ù†Ø¯ ÛŒÚ© Ø¬Ø²ÛŒØ±Ù‡ Ù…Ø³ØªÙ‚Ù„ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± Ù…Ø§Ú˜ÙˆÙ„ "ÙØ±ÙˆØ´" Ø¨Ø§Ø¹Ø« Ø®Ø±Ø§Ø¨ÛŒ Ø¯Ø± Ù…Ø§Ú˜ÙˆÙ„ "Ø§Ù†Ø¨Ø§Ø±" Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯. ØªÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ù…ÙˆØ§Ø²ÛŒ Ú©Ø§Ø± Ú©Ù†Ù†Ø¯.</p>
        </div>
        <div class="benefit-card">
            <span class="benefit-icon">ğŸ”„</span>
            <span class="benefit-title">Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…ÛŒÚ©Ø±ÙˆØ³Ø±ÙˆÛŒØ³ (Microservices Ready)</span>
            <p>Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø±Ø¹Ø§ÛŒØª Ù…Ø±Ø²Ù‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚ (Strict Boundaries)ØŒ Ø¬Ø¯Ø§ Ú©Ø±Ø¯Ù† ÛŒÚ© Ù…Ø§Ú˜ÙˆÙ„ Ùˆ ØªØ¨Ø¯ÛŒÙ„ Ø¢Ù† Ø¨Ù‡ ÛŒÚ© Ø³Ø±ÙˆÛŒØ³ Ù…Ø³ØªÙ‚Ù„ Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ØŒ ØªÙ†Ù‡Ø§ Ø¨Ø§ Ú†Ù†Ø¯ Ø³Ø§Ø¹Øª Ú©Ø§Ø± Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ø§Ø³Øª.</p>
        </div>
        <div class="benefit-card">
            <span class="benefit-icon">ğŸ“‰</span>
            <span class="benefit-title">Ú©Ø§Ù‡Ø´ Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ø²ÛŒØ±Ø³Ø§Ø®Øª</span>
            <p>Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¯Ø± ÛŒÚ© Process Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª KubernetesØŒ Network Latency Ùˆ Distributed Transactions Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ù†ÛŒØ³Øª.</p>
        </div>
        <div class="benefit-card">
            <span class="benefit-icon">ğŸ§ª</span>
            <span class="benefit-title">ØªØ³Øªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ Ø¹Ø§Ù„ÛŒ</span>
            <p>Ø³Ø§Ø®ØªØ§Ø± Ø§ÛŒØ²ÙˆÙ„Ù‡ Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ Ø±Ø§ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ ØªØ³Øª Ú©Ù†ÛŒØ¯ (Unit Test) Ùˆ Ú©Ù„ Ø³ÛŒØ³ØªÙ… Ø±Ø§ ÛŒÚ©Ø¬Ø§ ØªØ³Øª Ú©Ù†ÛŒØ¯ (Integration Test) Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ MockÙ‡Ø§ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡.</p>
        </div>
        <div class="benefit-card">
            <span class="benefit-icon">ğŸ’</span>
            <span class="benefit-title">Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ ØºÙ†ÛŒ (Rich Domain)</span>
            <p>ØªÙ…Ø±Ú©Ø² Ø±ÙˆÛŒ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± (Domain Logic) Ø§Ø³ØªØŒ Ù†Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³. Ú©Ø¯Ù‡Ø§ Ø®ÙˆØ§Ù†Ø§ Ùˆ Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø¨ÛŒØ²Ù†Ø³ Ù‡Ø³ØªÙ†Ø¯.</p>
        </div>
    </div>

    <hr>

    <h2>Û±. Ø³Ø§Ø®ØªØ§Ø± Ú©Ù„Ø§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ (Physical Structure)</h2>
    <p>Ù…Ø§ Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± ÙÛŒØ²ÛŒÚ©ÛŒ ÙØ´Ø±Ø¯Ù‡ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø²Ù…Ø§Ù† Ø¨ÛŒÙ„Ø¯ (Build Time) Ú©Ø§Ù‡Ø´ ÛŒØ§Ø¨Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø± IDE Ø¢Ø³Ø§Ù†â€ŒØªØ± Ø´ÙˆØ¯.</p>

    <div class="architecture-diagram">
        [ Host Project ] â” [ Modules (Libraries) ] â” [ Shared Kernel ]
    </div>

    <pre><code>Solution.sln
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ <strong>App.Host</strong>                   (ASP.NET Core WebAPI - Entry Point)
â”‚   â”‚
â”‚   â”œâ”€â”€ <strong>App.Shared.Kernel</strong>          (Shared Building Blocks, Interfaces, Base Classes)
â”‚   â”‚
â”‚   â””â”€â”€ Modules                    (Ù¾ÙˆØ´Ù‡ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ²Ù†Ø³)
â”‚       â”œâ”€â”€ <strong>App.Modules.Identity</strong>         (Project: Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§)
â”‚       â”œâ”€â”€ <strong>App.Modules.Sales</strong>            (Project: Ù…Ø¯ÛŒØ±ÛŒØª ÙØ±ÙˆØ´ Ùˆ Ø³ÙØ§Ø±Ø´Ø§Øª)
â”‚       â””â”€â”€ <strong>App.Modules.Inventory</strong>        (Project: Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ Ø§Ù†Ø¨Ø§Ø±)
â”‚
â””â”€â”€ tests
    â”œâ”€â”€ App.ArchitectureTests      (ØªØ¶Ù…ÛŒÙ† Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¨Ø§ NetArchTest)
    â””â”€â”€ App.Modules.{Name}.Tests   (ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§)</code></pre>

    <h3>Ù‚ÙˆØ§Ù†ÛŒÙ† Ø·Ù„Ø§ÛŒÛŒ Ø³Ø§Ø®ØªØ§Ø±:</h3>
    <ul>
        <li>âœ… <strong>Ù‚Ø§Ù†ÙˆÙ† Û±:Û±</strong> - Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ Ø¨ÛŒØ²Ù†Ø³ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ <strong>ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ (csproj)</strong> Ø§Ø³Øª. Ø§Ø² Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù„Ø§ÛŒÙ‡â€ŒØ§ÛŒ (Sales.Domain, Sales.Application, ...) Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.</li>
        <li>âœ… <strong>Ø¹Ø¯Ù… ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø§ÙÙ‚ÛŒ</strong> - Ø§Ø±Ø¬Ø§Ø¹ Ù…Ø³ØªÙ‚ÛŒÙ… (Project Reference) Ø¨ÛŒÙ† Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ (Ù…Ø«Ù„Ø§Ù‹ Sales Ø¨Ù‡ Inventory) <strong>Ø§Ú©ÛŒØ¯Ø§Ù‹ Ù…Ù…Ù†ÙˆØ¹</strong> Ø§Ø³Øª.</li>
        <li>âœ… <strong>Ù‡Ø³ØªÙ‡ Ù…Ø´ØªØ±Ú©</strong> - Ù‡Ù…Ù‡ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ ÙÙ‚Ø· Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ <code>Shared.Kernel</code> Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.</li>
    </ul>

    <h2>Û². Ø¢Ù†Ø§ØªÙˆÙ…ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ù…Ø§Ú˜ÙˆÙ„ (Module Internal Architecture)</h2>
    <p>Ø¯Ø±ÙˆÙ† Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ØŒ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù„Ø§ÛŒÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙÙ†ÛŒØŒ Ø§Ø² <strong>Ø¨Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÙˆØ¯ÛŒ (Vertical Slices)</strong> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….</p>

    <pre><code>src/Modules/App.Modules.Sales/
â”œâ”€â”€ <strong>Domain</strong>                       (Ù‡Ø³ØªÙ‡ Ù…Ø±Ú©Ø²ÛŒ Ø¨ÛŒØ²Ù†Ø³ - Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Ù‡Ù…Ù‡ Ú†ÛŒØ²)
â”‚   â”œâ”€â”€ Order.cs                 (AggregateRoot)
â”‚   â”œâ”€â”€ OrderId.cs               (Strongly Typed ID)
â”‚   â””â”€â”€ Events/                  (Domain Events)
â”‚
â”œâ”€â”€ <strong>Features</strong>                     (Vertical Slices - Ù‡Ø± ÙÛŒÚ†Ø± Ø¯Ø± ÛŒÚ© Ù¾ÙˆØ´Ù‡)
â”‚   â”œâ”€â”€ CreateOrder              (Ù¾ÙˆØ´Ù‡ ÙÛŒÚ†Ø± Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´)
â”‚   â”‚   â”œâ”€â”€ CreateOrderEndpoint.cs    (API Definition - FastEndpoints)
â”‚   â”‚   â”œâ”€â”€ CreateOrderCommand.cs     (Request DTO)
â”‚   â”‚   â”œâ”€â”€ CreateOrderHandler.cs     (Business Logic)
â”‚   â”‚   â”œâ”€â”€ CreateOrderValidator.cs   (FluentValidation)
â”‚   â”‚   â””â”€â”€ CreateOrderResponse.cs    (Response DTO)
â”‚   â”‚
â”‚   â””â”€â”€ GetOrderById             (Ù¾ÙˆØ´Ù‡ ÙÛŒÚ†Ø± Ø¯Ø±ÛŒØ§ÙØª Ø³ÙØ§Ø±Ø´)
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ <strong>Infrastructure</strong>               (Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙ†ÛŒ Ùˆ Ø¯ÛŒØªØ§Ø¨ÛŒØ³)
â”‚   â”œâ”€â”€ Persistence
â”‚   â”‚   â”œâ”€â”€ SalesDbContext.cs
â”‚   â”‚   â””â”€â”€ Configurations/      (EF Core Configurations)
â”‚   â””â”€â”€ Gateways/                (External Services impl)
â”‚
â””â”€â”€ <strong>PublicApi</strong>                    (Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØ± Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§)
    â””â”€â”€ ISalesModuleApi.cs       (Ù…ØªØ¯Ù‡Ø§ÛŒ ÙÙ‚Ø·-Ø®ÙˆØ§Ù†Ø¯Ù†ÛŒ Sync)</code></pre>

    <h2>Û³. Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ (Implementation Patterns)</h2>

    <h3>Ø§Ù„Ù) ØªØ¹Ø±ÛŒÙ Endpoint (Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Controller)</h3>
    <p>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ <code>FastEndpoints</code> ÛŒØ§ <code>Minimal APIs</code> Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ APIÙ‡Ø§ÛŒ ØªÙ…ÛŒØ² Ùˆ Ù¾Ø±Ø³Ø±Ø¹Øª.</p>
    <pre><code>// Features/CreateOrder/CreateOrderEndpoint.cs
public class CreateOrderEndpoint : Endpoint&lt;CreateOrderCommand, CreateOrderResponse&gt;
{
    public override void Configure()
    {
        Post("/api/orders");
        AllowAnonymous();
    }

    public override async Task HandleAsync(CreateOrderCommand req, CancellationToken ct)
    {
        // ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù„Ø§ÛŒÙ‡ Ø¨ÛŒØ²Ù†Ø³ (Ù…Ø³ØªÙ‚ÛŒÙ… ÛŒØ§ Ø¨Ø§ MediatR)
        var orderId = await req.ExecuteAsync(ct); 
        
        await SendOkAsync(new CreateOrderResponse(orderId), ct);
    }
}</code></pre>

    <h3>Ø¨) Ù…Ø¯Ù„ Ø¯Ø§Ù…Ù†Ù‡ ØºÙ†ÛŒ (Rich Domain Model)</h3>
    <p>Ù…Ù†Ø·Ù‚ Ø¨ÛŒØ²Ù†Ø³ Ø¨Ø§ÛŒØ¯ Ø¯Ø§Ø®Ù„ Entity Ø¨Ø§Ø´Ø¯ØŒ Ù†Ù‡ Ø¯Ø± ServiceÙ‡Ø§. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <code>private set</code> Ùˆ Ù…ØªØ¯Ù‡Ø§ÛŒ Factory Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.</p>
    <pre><code>// Domain/Order.cs
public sealed class Order : AggregateRoot&lt;OrderId&gt;
{
    public decimal TotalAmount { get; private set; }
    public OrderStatus Status { get; private set; }
    
    // Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø®ØµÙˆØµÛŒ Ø¨Ø±Ø§ÛŒ EF Core
    private Order() { }

    // Ù…ØªØ¯ Factory Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
    public static Order Create(OrderId id, decimal amount)
    {
        if (amount <= 0) throw new DomainException("Ù…Ø¨Ù„Øº Ø³ÙØ§Ø±Ø´ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª");
        
        var order = new Order 
        { 
            Id = id,
            TotalAmount = amount,
            Status = OrderStatus.Pending
        };
        
        // Ø«Ø¨Øª Ø±Ø®Ø¯Ø§Ø¯ (Event)
        order.AddDomainEvent(new OrderCreatedEvent(order.Id));
        return order;
    }
}</code></pre>

    <h2>Û´. Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Data Strategy)</h2>
    
    <div class="success-box">
        <strong>Ø§ØµÙ„ CQRS:</strong> Ø±ÙØªØ§Ø± Ù…Ø§ Ø¨Ø§ Ø®ÙˆØ§Ù†Ø¯Ù† (Read) Ùˆ Ù†ÙˆØ´ØªÙ† (Write) Ù…ØªÙØ§ÙˆØª Ø§Ø³Øª.
    </div>

    <table>
        <thead>
            <tr>
                <th>Ù†ÙˆØ¹ Ø¹Ù…Ù„ÛŒØ§Øª</th>
                <th>Ø§Ø¨Ø²Ø§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</th>
                <th>Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Ù†ÙˆØ´ØªÙ† (Write)</strong></td>
                <td>EF Core</td>
                <td>ØªÙ…Ø±Ú©Ø² Ø¨Ø± ØµØ­Øª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ (Consistency). Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ Aggregate. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Transaction.</td>
            </tr>
            <tr>
                <td><strong>Ø®ÙˆØ§Ù†Ø¯Ù† (Read)</strong></td>
                <td>Dapper / EF Core NoTracking</td>
                <td>ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ø³Ø±Ø¹Øª (Performance). Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³. Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† DTO ÙÙ„Øª (Flat).</td>
            </tr>
        </tbody>
    </table>

    <h2>Ûµ. Ù¾Ø±ÙˆØªÚ©Ù„ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ø¨ÛŒÙ† Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§</h2>
    
    <p>Ú†Ú¯ÙˆÙ†Ù‡ Ù…Ø§Ú˜ÙˆÙ„ A Ø¨Ø§ Ù…Ø§Ú˜ÙˆÙ„ B ØµØ­Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ</p>

    <h3>Ø±ÙˆØ´ Û±: ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯ (Async)</h3>
    <p>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Domain Events</strong> Ùˆ Ø§Ù„Ú¯ÙˆÛŒ <strong>Outbox</strong>.</p>
    <ul>
        <li>Ù…Ø§Ú˜ÙˆÙ„ A ÛŒÚ© Ø±Ø®Ø¯Ø§Ø¯ (Ù…Ø«Ù„Ø§Ù‹ <code>OrderCreated</code>) Ø±Ø§ Ù…Ù†ØªØ´Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
        <li>Ø§ÛŒÙ† Ø±Ø®Ø¯Ø§Ø¯ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø§Ú˜ÙˆÙ„ A Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (ØªØ¶Ù…ÛŒÙ† Ø§ØªÙ…ÛŒÚ© Ø¨ÙˆØ¯Ù†).</li>
        <li>ÛŒÚ© Ù¾Ø±Ø¯Ø§Ø²Ø´Ú¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ (Background Worker) Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Message Broker (Ù…Ø«Ù„ RabbitMQ) Ù…ÛŒâ€ŒÙØ±Ø³ØªØ¯.</li>
        <li>Ù…Ø§Ú˜ÙˆÙ„ B Ù…Ø´ØªØ±Ú© (Subscriber) Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ø§Ø³Øª Ùˆ Ø¢Ù† Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
    </ul>

    <h3>Ø±ÙˆØ´ Û²: ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†ÛŒÙ… (Sync)</h3>
    <p>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² <strong>Public Interface</strong> (Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø¹Ù…ÙˆÙ…ÛŒ).</p>
    <ul>
        <li>Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ ÛŒÚ© Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ (Ù…Ø«Ù„Ø§Ù‹ <code>IInventoryApi</code>) Ø¯Ø± Ù¾ÙˆØ´Ù‡ <code>PublicApi</code> Ø®ÙˆØ¯ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</li>
        <li>Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ ÙÙ‚Ø· Ù…ØªØ¯Ù‡Ø§ÛŒ <code>Get...</code> Ø¯Ø§Ø±Ø¯ Ùˆ DTO Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.</li>
        <li>Ø³Ø§ÛŒØ± Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø±Ø§ ØªØ²Ø±ÛŒÙ‚ (Inject) Ú©Ø±Ø¯Ù‡ Ùˆ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ (In-Memory) ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.</li>
        <li>Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§ÛŒÙ† Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØªØ±ÛŒÙ† Ú©ÙˆØ¦Ø±ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¨Ø§Ø´Ø¯ (Ø¨Ø¯ÙˆÙ† Ù…Ù†Ø·Ù‚ Ø¨ÛŒØ²Ù†Ø³).</li>
    </ul>

    <h2>Û¶. Ù¾Ø´ØªÙ‡ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ (Tech Stack)</h2>
    <ul>
        <li><strong>Ù‡Ø³ØªÙ‡:</strong> .NET 9.0</li>
        <li><strong>API:</strong> FastEndpoints (Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªØ§Ø± Ø¨Ù‡ØªØ± Ùˆ Ù¾Ø±ÙÙˆØ±Ù…Ù†Ø³)</li>
        <li><strong>Ø¯ÛŒØªØ§Ø¨ÛŒØ³:</strong> SQL Server / PostgreSQL (Ø¨Ø§ EF Core 9 Ùˆ Dapper)</li>
        <li><strong>Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª:</strong> MassTransit (Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø³Ø§Ù† RabbitMQ Ùˆ Outbox)</li>
        <li><strong>Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ:</strong> FluentValidation</li>
        <li><strong>Ù„Ø§Ú¯ÛŒÙ†Ú¯:</strong> Serilog (Structured Logging)</li>
        <li><strong>ØªØ³Øª:</strong> xUnit + FluentAssertions + Testcontainers</li>
    </ul>

    <hr>
    <p style="text-align: center; font-size: 0.9rem; color: #64748b;">
        Ø§ÛŒÙ† Ø³Ù†Ø¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ ÙÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù‡Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ± Ø¯Ø± Ø³Ø§Ø²Ù…Ø§Ù† Ù…ÙˆØ±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯.
    </p>
</div>

</body>
</html>